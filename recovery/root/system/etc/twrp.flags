# Android fstab file.
# The filesystem that contains the filesystem checker binary (typically /system) cannot
# specify MF_CHECK, and must come before any filesystems that do specify MF_CHECK

# mount point          fstype  device                                     device2                 flags

# Logical partitions
/mi_ext                ext4    mi_ext                                                             flags=display="Mi_EXT"
/system_ext            ext4    system_ext                                                         flags=display="System_EXT"
/system_dlkm           ext4    system_dlkm                                                        flags=display="System_DLKM"
/vendor_dlkm           ext4    vendor_dlkm                                                        flags=display="Vendor_DLKM"

# Metadata/Cache/Misc Properties
/metadata              f2fs    /dev/block/bootdevice/by-name/metadata                             flags=display="Metadata";backup=1;wrappedkey
/cache                 auto    /dev/block/bootdevice/by-name/rescue                               flags=display="Cache";backup=1;wipeingui;wipeduringfactoryreset
/misc                  emmc    /dev/block/bootdevice/by-name/misc                                 flags=display="Misc";backup=1;flashimg=1

# Boot Properties
/boot                  emmc    /dev/block/bootdevice/by-name/boot                                 flags=display="Boot";backup=1;slotselect;flashimg=1
/init_boot             emmc    /dev/block/bootdevice/by-name/init_boot                            flags=display="Init Boot";backup=1;slotselect;flashimg=1
/vendor_boot           emmc    /dev/block/bootdevice/by-name/vendor_boot                          flags=display="Vendor Boot";slotselect;backup=1;flashimg=1
/dtbo                  emmc    /dev/block/bootdevice/by-name/dtbo                                 flags=display="DTBO";backup=1;slotselect;flashimg=1
/recovery              emmc    /dev/block/bootdevice/by-name/recovery                             flags=display="Recovery";backup=1;slotselect;flashimg=1

# AVB partitions
/vbmeta                emmc    /dev/block/bootdevice/by-name/vbmeta                               display="VBMeta";flags=backup=1;slotselect;flashimg=1
/vbmeta_system         emmc    /dev/block/bootdevice/by-name/vbmeta_system                        display="VBMeta System";flags=backup=1;slotselect;flashimg=1

# Persistent Properties
/persist               ext4    /dev/block/bootdevice/by-name/persist                              flags=display="Persist"
/persist_image         emmc    /dev/block/bootdevice/by-name/persist                              flags=display="Persist";backup=1;flashimg=1

# Firmware Partitions
/modem                 vfat    /dev/block/bootdevice/by-name/modem                                flags=display="Modem";slotselect;fsflags="ro,shortname=lower,uid=1000,gid=1000,dmask=227,fmask=337,context=u:object_r:firmware_file:s0 wait"
/modemfirmware         emmc    /dev/block/bootdevice/by-name/modemfirmware                        flags=backup=1;slotselect;flashimg=1;subpartitionof=/modem
/bluetooth             emmc    /dev/block/bootdevice/by-name/bluetooth                            flags=backup=1;slotselect;flashimg=1;subpartitionof=/modem
/dsp                   emmc    /dev/block/bootdevice/by-name/dsp                                  flags=backup=1;slotselect;flashimg=1;subpartitionof=/modem
/modem_image           emmc    /dev/block/bootdevice/by-name/modem                                flags=display="Modem";backup=1;flashimg=1

# Efs Partitions
/efs1                  emmc    /dev/block/bootdevice/by-name/modemst1                             flags=display="Efs";backup=1
/efs2                  emmc    /dev/block/bootdevice/by-name/modemst2                             flags=backup=1;subpartitionof=/efs1
/efsc                  emmc    /dev/block/bootdevice/by-name/fsc                                  flags=backup=1;subpartitionof=/efs1
/efsg                  emmc    /dev/block/bootdevice/by-name/fsg                                  flags=backup=1;subpartitionof=/efs1

# Removable Storage
/usb_otg               vfat    /dev/block/sdg1                            /dev/block/sdg          flags=display="USB-OTG";fsflags=utf8;storage;wipeingui;removable
